# GetchaBE Project

## 📋 프로젝트 개요

### 프로젝트 정보

- **프로젝트명**: 겟챠(Getcha) 
- **진행일자**: 2025.11.13 ~ 2025.12.21 
- **개발환경**:  Java(Spring Boot), Vue.js

### 타겟층

품절로 인해 굿즈를 사지 못한 2030 애니메이션 덕후

### 프로젝트 목표

- 애니메이션 및 캐릭터 굿즈 기반 **개인 간 경매 플랫폼 구축**
- **가상화폐 기반 안전 거래 시스템** 제공
- **사용자 관심 애니 목록을 통한 콘텐츠 기반 AI 굿즈 추천 시스템** 개발
- 안정적인 UX 제공을 위한 경매 관련 **알림 + 경매 타이머** 구현

---

## 🛠 Backend 기술 스택

### 개발 언어 및 도구

- **Database**: MySQL, MyBatis
- **Backend**: Java 17, Eclipse/IntelliJ,Springboot 3.4.12  / Gradle
- **etc**: Spring Security, Jwt, Cookie/Session, Swagger 
- **External API** : TMDB API (애니 관련 정보), HuggingFace Inference API (텍스트 임베딩 생성), Pinecone API (Vector DB 저장 및 유사도 검색)

---

## 📊 기능적 요구사항

# 기능적 요구사항 (Functional Requirements)

## 1. 회원/인증 기능
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FU-101** | 회원가입 | - 가입 시 기본 지갑 자동 생성<br>- 가상화폐 추가 (임시, 100,000 골드) | 회원 가입 페이지 |
| **FU-102** | 이메일 인증 | - SMTP 기반 인증 | 회원가입 페이지 |
| **FU-103** | 로그인 | - JWT 기반 인증<br>- Access/Refresh Token 발급 | 로그인 페이지 |
| **FU-104** | 프로필 조회 | - 닉네임, 프로필 포스터 조회 기능 제공 | 마이페이지 |
| **FU-105** | 프로필 수정 | - 닉네임, 프로필 포스터 변경 기능 제공 | 마이페이지 |
| **FU-106** | 관심 애니메이션 등록 | - TMDB API를 연동하여 사용자가 좋아하는 <br>   애니메이션/캐릭터/장르 목록 등록 및 수정 (AI 추천의 입력 데이터)<br>- 필수 3개 등록 | 마이페이지 |
| **FU-107** | 회원 탈퇴<br>(= 비활성화) | **(1) 탈퇴 가능 상태**<br>- 경매 대기 상태 굿즈 등록글 삭제 시<br>- 예치금 unlock 상태(최고입찰가가 아닌 상태) 가상화폐로 돈 반환 시<br>**(2) 처리 요청 상태**<br>- 경매 진행 상태: 낙찰 or 패찰 된 후 탈퇴 요청<br>- 예치금 lock 상태: 낙찰 or 패찰 된 후 탈퇴 요청 | 마이페이지 |


---


## 2. 굿즈 등록 및 경매 상태관리 기능 (판매자)
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FA-201** | 굿즈 등록 | **[등록 정보]**<br>- 제목, 굿즈 관련 애니메이션 선택, 굿즈 종류(카테고리) <br>- 상품 설명, 이미지(다중 업로드) 등록<br>**[경매 조건 설정]**<br>- 시작가 (필수)<br>- 상한가/즉시구매가 (선택)<br>- 최초 경매 기간 (기본 값 2~3일 설정, 최댓값 14일) | 굿즈 등록 페이지 |
| **FA-202** | 굿즈 목록 조회<br>(검색/필터) | - 필터(상태/카테고리/정렬) 기능<br>- 검색(애니메이션/제목) 기능 | 굿즈 목록 페이지 |
| **FA-203** | 굿즈 글 상세 조회 | - 제목, 굿즈 관련 애니메이션, 굿즈 종류, 상품 설명, 이미지<br>- 시작가, 상한가/즉시구매가, 경매 타이머, 찜 수<br>- 참여자 리스트, 경매 상태, 판매자 닉네임, 댓글 리스트 확인 | 굿즈 상세 페이지 |
| **FA-204** | 경매 등록 내용 수정 | - 경매 대기 상태일 때만 수정 가능 | 굿즈 수정 페이지 |
| **FA-205** | 등록 경매 글 삭제 | - 내가 등록한 경매 글 삭제 기능 (*경매 대기/종료 후) | 굿즈 상세 페이지 |
| **FA-206** | 거래 중지(패찰) | - 판매자가 거래중지 가능<br>- 거래중지 시 Lock 상태의 참여자에게 예치금 환원<br>- 거래중지 알림 발송 | 굿즈 상세 페이지 |
| **FA-207** | 경매 상태 관리 | - **경매 대기:** 등록 직후<br>- **경매 진행:** 첫 구매자(입찰) 발생 시점부터<br>- **낙찰:** 경매기간 종료 또는 즉시 구매가 입찰 시<br>- **패찰:** 판매자가 거래 중지를 누를 경우 | 서비스 로직 단 |


---


## 3. 경매 및 입찰 기능 (구매자/경매 진행)
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FB-301** | 입찰 가격 제시 | - 현재 최고가보다 높고 거래제한금액(500만원) 이하인 금액 제시<br>- 보유한 코인 이상의 금액은 제시 불가<br>- 입찰 시 경고 알림창 (입찰 후 취소 불가) | 굿즈 상세 페이지<br>(내 입찰 버튼) |
| **FB-302** | 입찰 금액 Lock | - 입찰 시 구매자가 입찰한 금액을 즉시 예치금으로 Lock<br>- 낙찰 시 코인 부족 방지 및 고의적 경매 방해 방지 | 서비스 로직 단 |
| **FB-303** | 이전 예치금 해제 | - 최고입찰자 변경 시 기존 입찰자 예치금 Unlock 및 환원 | 서비스 로직 단 |
| **FB-304** | 경매 타이머 | - Javascript 기반 경매 카운트다운 | 굿즈 상세 페이지 |
| **FB-305** | 경매 자동 종료 | - (1) 설정된 경매 기간 만료 시<br>- (2) 상한가(즉시구매가) 도달 시 | 서비스 로직 단 |
| **FB-306** | 거래 정산(낙찰) | - (1) 구매자에게 예치금 전송 (판매자에게 이동)<br>- (2) 판매자(낙찰자) 거래 낙찰 알림 전송 | 서비스 로직 단 |
| **FB-307** | 참여자 리스트 조회 | - 경매에 참여한 참여자들의 이름과 금액 리스트 조회 | 굿즈 상세 페이지 |


---


## 4. 가상화폐 및 거래 정산 기능 (Wallet Core)
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FC-401** | 자산 현황 | - 잔액 및 예치금 총액 조회 | 마이페이지 > 자산 현황 |
| **FC-402** | 거래 내역 상세 | - 입찰, 예치금(lock/unlock), 낙찰, 환불 등 거래 내역 전체 기록 | 마이페이지 > 거래 내역 |


---


## 5. 소셜 및 알림 기능
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FD-501** | 굿즈 찜 기능 | - 사용자가 관심 굿즈를 찜하여 목록 관리 (위시리스트) | 굿즈 상세, 마이페이지 |
| **FD-502** | 경매 알림 | - (1) 경매 마감 1시간 전 알림<br>- (2) 최고입찰 갱신 시 알림 발송 | 서비스 로직 단 |
| **FD-503** | 거래 알림 | - 낙찰/패찰(=거래중지)/정산 결과 알림 발송 | 서비스 로직 단 |
| **FD-504** | 목록 및 상태 | - 알림 목록 조회 | 모든 페이지 우측 상단 |
| **FD-505** | 등록 경매 글 조회 | - 내가 등록한 경매 글 조회 기능 | 마이페이지 |
| **FD-506** | 참여 경매 글 조회 | - 내가 참여한 경매 글 조회 | 마이페이지 |
| **FD-507** | 관심 애니 목록 조회 | - 관심 애니메이션 목록 조회 | 마이페이지 |


---


## 6. AI 추천 및 콘텐츠 관리 기능
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FE-601** | 관심 애니 설정 | - TMDB API를 통해 애니 검색 및 선택<br>- 애니 메타데이터(제목, 줄거리, 장르) 조회<br>- 관심 애니 ID 3개 저장 | 마이페이지 > 정보 수정 |
| **FE-602** | 콘텐츠 기반 애니 추천 | -  관심 애니 임베딩을 가중평균해 사용자 취향 벡터 생성<br>- 코사인 유사도 기반 Top-N 추천<br>- 추천 결과 캐싱 및 관심 애니 변경 시 재추천 | 마이페이지 > 관심 애니메이션 |
| **FE-603** | 추천 애니 기반 굿즈 추천 | - 추천 애니 연관 굿즈 추천<br>- 본인 판매 굿즈, 이미 찜한 굿즈 제외<br>- 경매 대기·진행 중인 굿즈만 필터링 | 메인페이지 |


---


## 7. 댓글 및 커뮤니티 기능
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FG-701** | 댓글 작성 (Parent) | - 로그인한 사용자가 굿즈 상세 페이지 하단에 문의/의견 작성<br>- 텍스트 입력 제한 (예: 500자) | 굿즈 상세 페이지 |
| **FG-702** | 대댓글 작성 (Child) | - 1차 댓글에 대한 답글 작성 기능<br>- 대댓글까지만 허용 (대대댓글 불가) | 굿즈 상세 페이지 |
| **FG-703** | 댓글 목록 조회 | - 계층형 구조 노출<br>- 작성일 순 정렬, 대댓글은 들여쓰기로 구분 | 굿즈 상세 페이지 |
| **FG-704** | 댓글 수정/삭제 | - 작성자 본인만 수정 및 삭제 가능 | 굿즈 상세 페이지 |
| **FG-705** | 판매자 식별 표시 | - 댓글 작성자가 해당 굿즈 '판매자'일 경우 닉네임 옆 배지 표시 | 굿즈 상세 페이지 |

## 8. 신고 및 운영 기능
| ID | 항목 | 상세 설명 | 페이지 |
| :--- | :--- | :--- | :--- |
| **FF-801** | 신고 접수 | - 신고된 게시물/사용자 관리<br>- 신고 버튼 클릭 시 alert으로 표기만 함 (UI 구현) | 굿즈 상세 / 프로필 |
| **FF-802** | 환불 요청 문의 | - 모든 페이지 하단에 전화번호 남기는 형식으로 처리 | 모든 페이지 하단 |


---


## 🗃️ 프로젝트 구조 
```
getcha/
├── frontend/                   # getchaFE 참고
│
├── backend/                    # getchaBE (Spring Boot)
│   ├── src/
│   │   └── main/
│   │       ├── resources/
│   │       │   ├── mappers/            # MyBatis XML
│   │       │   └── application.yml
│   │       └── java/
│   │           └── com/ssafy/backend/
│   │               ├── users/         
│   │               │   ├── controller/
│   │               │   │   └── UserController.java
│   │               │   ├── service/
│   │               │   │   ├── UserService.java
│   │               │   │   └── UserServiceImpl.java
│   │               │   └── model/
│   │               │       ├── User.java
│   │               │       ├── UserMapper.java
│   │               │       ├── AnimeSelectionDto.java
│   │               │       ├── UserRequestDto.java
│   │               │       └── UserResponseDto.java
│   │               ├── ai/             
│   │               ├── auth/
│   │               ├── goods/
│   │               ├── bid/
│   │               ├── comment/
│   │               ├── notification/
│   │               ├── wallet/
│   │               ├── wish/
│   │               ├── anime/
│   │               ├── payment/
│   │               ├── common/
│   │               │   └── config/
│   │               └── Application.java
│   ├── build.gradle
│
└── README.md

```




---

## 🏗 시스템 아키텍처 (미수정) 

### Servlet + JSP MVC 패턴 구조

```
Client (Browser)
    ↓ (1) HTTP 요청 (GET/POST/PUT/DELETE)
DTO (Data Transport Object)
    ↓ (2)
Controller
    ↓ (3) 요청 파라미터 추출 및 비즈니스 로직 호출
Service
    ↓ (4) 비즈니스 로직 전달 시 Vo 반환
Vo
    ↓ (5) 구현체에 Vo 전달
Repository (MySQL)
    ↓ (6) 구현체 내부 JPA를 이용한 데이터 저장/조회 (Entity 자체로 추출 X)
JPA
```



---

# **💻 화면 구성 예시**

### **주요 화면 목록**

1. **헤더**
    - Getcha 글자 & 로고 
    - 알림 확인
    - 로그인 / 로그아웃 
        > 로그인 한 상태일 때
            
            마이페이지, 찜 
            
        > 로그아웃 한 상태 일 때
            
            로그인 버튼, 회원가입 버튼 
            
2. **회원 가입** 
    - 닉네임
    - 이름
    - 아이디
    - 비밀번호
    - 이메일(인증 필요)
    - 관심 애니메이션 (필수)
    - 관심 카테고리 (ex. 피규어, 포토카드 등) (선택)
        - 카테고리
            - 피규어
            - 포토카드
            - 아크릴 스탠드
            - 키링
            - 인형
            - 포스터
            - 그 외 굿즈
3. **메인 페이지** 
    - 상단 : 로그인한 유저에게 맞는 AI 추천 상품 
        > 만약 로그인하지 않았을 경우, 로그인하면 볼 수 있다는 안내글 띄우기

    - 중앙 : 상품 카테고리 별 리스트 (+ALL 포함)
4. **굿즈 리스트 페이지** 
ALL 클릭 시 넘어가는 페이지
    - 필터(상태 / 찜 / 날짜 / 현재 입찰가 / 애니메이션 제목/ 카테고리/검색) 
    - **굿즈 등록 (= 등록 경매글) 버튼** 
    - **굿즈 카드**
        - 경매 상태 필터 (진행 or 완료) 
        - 제목
        - 판매자 닉네임
        - 현재 입찰가 금액
        - 경매 타이머
        - 찜 수 
5. **굿즈 등록 페이지**
    - 굿즈 이미지 업로드 (다중 업로드 가능) 
    - 굿즈 관련 애니메이션명, 캐릭터명, 굿즈 종류, 상품 설명
    - 시작가(필수), 상한가/즉시구매가(선택), 최초 경매기간(기본 값 3일 ~ 최댓값 14일 / 필수) 
6. **굿즈 상세 페이지**
    - **수정 / 삭제(경매 참여자가 없는 경우에만) 버튼** 
    - **거래중지 버튼** 
    - 제목
    - 판매자 닉네임
    - 경매 상태 필터 (진행 or 완료)
    - 현재 입찰가 금액 
    - 경매 참여자 리스트 
    - 경매 타이머 (남은 경매 기간)
    - 찜 갯수
    - 댓글
        - 2차 대댓글까지만 가능 
7. **마이페이지**
    - 찜 리스트 
    - 등록 경매 글 리스트
    - 참여 경매 글 리스트 
    - 거래 내역 리스트 
    - 잔액 현황 
    - 관심 애니메이션 리스트 
    - 정보 수정 (닉네임, 좋아하는 애니메이션)

   
